{% extends "admin_base.html" %}

{% block admin_content %}
<div class="glass neumorphic rounded-3xl p-8">
  <div class="flex items-center justify-between gap-6 mb-6">
    <div>
      <h1 class="text-3xl font-extrabold">Designuri</h1>
      <p class="text-gray-600 dark:text-gray-300 mt-1">Catalogul tău de designuri gata.</p>
    </div>

    <a href="/admin/designs/new"
       class="bg-accent text-white px-6 py-3 rounded-2xl font-bold hover:bg-indigo-700 transition">
      + Adaugă design
    </a>
  </div>

  {% if items %}
  <div class="overflow-x-auto">
    <table class="w-full text-left border-separate" style="border-spacing: 0 10px;">
      <thead>
        <tr class="text-sm text-gray-500 dark:text-gray-400">
          <th class="px-4">Preview</th>
          <th class="px-4">Titlu</th>
          <th class="px-4">Categorie</th>
          <th class="px-4">Brand</th>
          <th class="px-4">Preț</th>
          <th class="px-4">Activ</th>
          <th class="px-4 text-right">Acțiuni</th>
        </tr>
      </thead>

      <tbody>
        {% for d in items %}
        <tr class="bg-white/60 dark:bg-gray-900/60 border border-transparent dark:border-white/10 rounded-2xl align-middle">
          <td class="px-4 py-4">
            <div class="w-16 h-20 rounded-xl overflow-hidden border border-gray-200 dark:border-white/10">
              <img src="{{ d.image_url }}" alt="{{ d.title }}" class="w-full h-full object-cover">
            </div>
          </td>

          <td class="px-4 py-4">
            <div class="font-extrabold text-gray-900 dark:text-white">{{ d.title }}</div>
            <div class="text-xs text-gray-500">/{{ d.slug }}</div>
          </td>

          <td class="px-4 py-4">{{ d.category or '-' }}</td>
          <td class="px-4 py-4">{{ d.brand or '-' }}</td>
          <td class="px-4 py-4 font-extrabold text-accent">{{ d.price_mdl }} MDL</td>

          <td class="px-4 py-4">
            {% if d.is_active %}
              <span class="px-3 py-1 rounded-full text-xs font-bold bg-green-500/15 text-green-600 border border-green-500/20">YES</span>
            {% else %}
              <span class="px-3 py-1 rounded-full text-xs font-bold bg-gray-500/15 text-gray-600 border border-gray-500/20">NO</span>
            {% endif %}
          </td>

          <td class="px-4 py-4 text-right">
            <div class="flex items-center justify-end gap-3">
              <a href="/admin/designs/{{ d.id }}/edit"
                 class="neumorphic-btn px-4 py-2 rounded-2xl font-bold">
                Edit
              </a>

              <form method="post" action="/admin/designs/{{ d.id }}/delete"
                    onsubmit="return confirm('Ștergi designul?')">
                <button class="px-4 py-2 rounded-2xl font-bold bg-red-500 text-white hover:bg-red-600 transition">
                  Delete
                </button>
              </form>
            </div>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
  {% else %}
    <p class="text-gray-500">Nu ai designuri încă.</p>
  {% endif %}
</div>
{% endblock %}
