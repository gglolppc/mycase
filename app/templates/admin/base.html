<!-- base.html -->
<!DOCTYPE html>
<html lang="ro" class="scroll-smooth">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    {% block title %}<title>MYCASE</title>{% endblock %}
    {% block meta %}
    <meta name="description" content="CreeazƒÉ produse personalizate. Calitate premium, livrare rapidƒÉ √Æn Moldova." />
    <meta name="keywords" content="personalizat, mycase, Chi»ôinƒÉu, Moldova" />
    {% endblock %}

    <script async src="https://www.googletagmanager.com/gtag/js?id=G-KRN1WNWTXK"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-KRN1WNWTXK');
    </script>
    <link rel="stylesheet" href="{{ request.url_for('static', path='css/output.css') }}">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Poppins:wght@500;600&display=swap" rel="stylesheet">
    {% block extra_fonts %}{% endblock %}
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <

    <script src="https://cdn.jsdelivr.net/npm/fabric@latest/dist/fabric.min.js"></script>
    <script>const STATIC_BASE = "{{ request.url_for('static', path='') }}";</script>




    {% block extra_styles %}{% endblock %}
</head>

<body class="bg-bg-light text-gray-800 dark:bg-gray-950 dark:text-gray-100 min-h-screen flex flex-col">

  <!-- Header -->
  <header class="bg-white/90 dark:bg-gray-900/80 backdrop-blur-md shadow-sm py-5 sticky top-0 z-50 border-b border-gray-100 dark:border-white/10">
    <div class="max-w-7xl mx-auto px-6 flex justify-between items-center">
      <div class="flex items-center gap-8">
        <a href="/" class="flex items-center gap-4 group">
          <img src="{{ request.url_for('static', path='assets/logo.png') }}" alt="MYCASE" class="w-12 h-12 rounded-full shadow-md group-hover:scale-105 transition-transform"/>
          <div class="hidden sm:block">
            <h1 class="text-2xl font-bold text-accent">MYCASE</h1>
            <p class="text-sm text-gray-500 dark:text-gray-400">{% block header_subtitle %}Produse premium la comandƒÉ{% endblock %}</p>
          </div>
        </a>

        <nav class="flex items-center gap-6">
          <a href="/" class="text-sm font-bold uppercase tracking-wide hover:text-accent transition-colors {% if request.url.path == '/' %}text-accent border-b-2 border-accent{% else %}text-gray-600 dark:text-gray-300{% endif %}">
            Huse
          </a>
          <a href="/termos" class="text-sm font-bold uppercase tracking-wide hover:text-accent transition-colors {% if request.url.path == '/termos' %}text-accent border-b-2 border-accent{% else %}text-gray-600 dark:text-gray-300{% endif %}">
            Termosuri
          </a>
        </nav>
      </div>

      <div class="flex items-center gap-4">
        <button
          id="theme-toggle"
          class="neumorphic-btn px-4 py-3 rounded-2xl font-semibold flex items-center gap-2"
          type="button"
          aria-label="Toggle theme"
          title="Theme"
        >
          <i id="theme-icon" class="fas fa-moon"></i>
        </button>

        <div class="hidden sm:flex items-center gap-4">
          <a href="https://t.me/mycasemd" class="text-gray-700 dark:text-gray-200 hover:text-accent transition">
            <i class="fab fa-telegram text-xl"></i>
          </a>
          <a href="viber://chat?number=%2B37368109777" class="text-gray-700 dark:text-gray-200 hover:text-accent transition">
            <i class="fab fa-viber text-xl"></i>
          </a>
        </div>
      </div>
    </div>
  </header>

  {% block main %}{% endblock %}

  <!-- Exemplele lucrƒÉrilor noastre -->
  {% block examples %}
  <section class="py-16 px-6 bg-gradient-to-b from-transparent to-gray-50 dark:to-gray-950">
    <div class="max-w-7xl mx-auto">
      <h2 class="text-4xl font-bold text-center text-accent mb-12">‚ú® Exemplele lucrƒÉrilor noastre</h2>

      <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6">
        <div class="group relative overflow-hidden rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500">
          <img src="{{ request.url_for('static', path='assets/examples/1.jpg') }}" alt="Exemplu personalizat"
               class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110" />
          <div class="absolute inset-0 bg-gradient-to-t from-black/40 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
        </div>

        <div class="group relative overflow-hidden rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500">
          <img src="{{ request.url_for('static', path='assets/examples/2.jpg') }}" alt="Exemplu personalizat"
               class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110" />
          <div class="absolute inset-0 bg-gradient-to-t from-black/40 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
        </div>

        <div class="group relative overflow-hidden rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500">
          <img src="{{ request.url_for('static', path='assets/examples/3.jpg') }}" alt="Exemplu personalizat"
               class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110" />
          <div class="absolute inset-0 bg-gradient-to-t from-black/40 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
        </div>

        <div class="group relative overflow-hidden rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500">
          <img src="{{ request.url_for('static', path='assets/examples/4.jpg') }}" alt="Exemplu personalizat"
               class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110" />
          <div class="absolute inset-0 bg-gradient-to-t from-black/40 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
        </div>

        <div class="group relative overflow-hidden rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500">
          <img src="{{ request.url_for('static', path='assets/examples/5.jpg') }}" alt="Exemplu personalizat"
               class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110" />
          <div class="absolute inset-0 bg-gradient-to-t from-black/40 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
        </div>
      </div>

      <p class="text-center text-gray-600 dark:text-gray-300 mt-10 text-lg">»òi a ta va fi la fel de frumoasƒÉ ‚ú®</p>
    </div>
  </section>
  {% endblock %}

  <!-- Sticky bottom bar –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö -->
  {% block mobile_bar %}{% endblock %}

  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∑–∞–∫–∞–∑–∞ -->
  <div id="order-form" class="fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center hidden z-50 transition-all duration-300">
    <div class="bg-white dark:bg-gray-900 rounded-3xl p-10 max-w-md w-full mx-6 shadow-2xl border border-gray-100 dark:border-white/10">
      <h2 class="text-3xl font-bold text-accent mb-8 text-center">Finalizare comandƒÉ</h2>
      <form id="order-form-el" class="space-y-6">
        <input type="text" name="name" placeholder="Numele tƒÉu" required
               class="w-full p-5 rounded-2xl border border-gray-300 dark:border-white/10 bg-gray-50 dark:bg-gray-950/40
                      text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400
                      focus:ring-4 focus:ring-accent/30 focus:border-accent transition" />
        <input type="text" name="phone" placeholder="Telefon" required
               class="w-full p-5 rounded-2xl border border-gray-300 dark:border-white/10 bg-gray-50 dark:bg-gray-950/40
                      text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400
                      focus:ring-4 focus:ring-accent/30 focus:border-accent transition" />
        <input type="text" name="address" placeholder="Adresa de livrare" required
               class="w-full p-5 rounded-2xl border border-gray-300 dark:border-white/10 bg-gray-50 dark:bg-gray-950/40
                      text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400
                      focus:ring-4 focus:ring-accent/30 focus:border-accent transition" />

        {% block order_form_extra %}{% endblock %}

        <div class="flex justify-end gap-4 mt-10">
          <button type="button" id="cancel-order"
                  class="px-8 py-4 rounded-2xl border border-gray-300 dark:border-white/10 text-gray-700 dark:text-gray-100 font-semibold hover:bg-gray-100 dark:hover:bg-white/5 transition">
            Anulare
          </button>

          <button type="submit" id="submit-order-btn"
                  class="relative px-10 py-4 rounded-2xl bg-accent text-white font-bold hover:bg-indigo-700 transition shadow-lg w-full">
            <span id="submit-text">ComandƒÉ acum</span>
            <span id="loading-text" class="hidden flex items-center justify-center">
              <svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
              </svg>
              Se trimite ordine...
            </span>
          </button>
        </div>
      </form>
    </div>
  </div>

  <!-- Toast -->
  <div id="toast" class="fixed bottom-8 left-1/2 -translate-x-1/2 bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-100 px-8 py-4 rounded-2xl shadow-2xl border-t-4 border-green-500 opacity-0 pointer-events-none transition-opacity duration-300 z-50 font-bold">
    ComandƒÉ primitƒÉ! Te vom contacta √Æn cur√¢nd üìû
  </div>

  {% block scripts %}{% endblock %}

  <!-- Footer -->
  <footer class="bg-white/70 dark:bg-gray-900/60 backdrop-blur-md border-t border-gray-200 dark:border-white/10 mt-20">
    <div class="max-w-7xl mx-auto px-6 py-10">
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center md:text-left">

        <div class="flex flex-col items-center md:items-start">
          <div class="flex items-center gap-3 mb-4">
            <img src="{{ request.url_for('static', path='assets/logo.png') }}" alt="MYCASE" class="w-10 h-10 rounded-full shadow-md"/>
            <h3 class="text-2xl font-bold text-accent">MYCASE</h3>
          </div>
          <p class="text-sm text-gray-600 dark:text-gray-300">{% block footer_subtitle %}Produse premium personalizate<br>Chi»ôinƒÉu ¬∑ Moldova ¬∑ 2025{% endblock %}</p>
        </div>

        <div class="space-y-3">
          <p class="text-sm font-semibold text-gray-700 dark:text-gray-200 uppercase tracking-wider">Contact</p>
          <div class="space-y-2 text-gray-600 dark:text-gray-300">
            <p class="flex items-center justify-center md:justify-start gap-2">
              <i class="fab fa-telegram text-accent"></i> @mycasemd
            </p>
            <p class="flex items-center justify-center md:justify-start gap-2">
              <i class="fab fa-viber text-accent"></i> +373 68 109 777
            </p>
            <p class="flex items-center justify-center md:justify-start gap-2">
              <i class="fas fa-map-marker-alt text-accent"></i> bd. Moscova 11, R√Æ»ôcani
            </p>
          </div>
        </div>

        <div class="space-y-3">
          <p class="text-sm font-semibold text-gray-700 dark:text-gray-200 uppercase tracking-wider">Info</p>
          <div class="text-sm text-gray-600 dark:text-gray-300 space-y-1">
            <p>Livrare √Æn toatƒÉ Moldova (de la 50 lei)</p>
            <p>Plata la primire (ramburs)</p>
            <p>Garan»õie calitate print UV</p>
            <p class="text-xs text-gray-500 dark:text-gray-400 mt-4">¬© 2025 MYCASE. Toate drepturile rezervate.</p>
          </div>
        </div>
      </div>
    </div>
  </footer>

  <!-- Floating Contact Button -->
  <div id="floating-contact" class="fixed bottom-28 right-4 z-40 flex flex-col items-end gap-4">
    <div id="contact-buttons" class="flex flex-col items-end gap-3 opacity-0 scale-0 transition-all duration-300 origin-bottom-right">
      <a href="https://t.me/mycasemd" target="_blank" class="bg-blue-600 text-white p-4 rounded-full shadow-2xl hover:scale-110 transition transform">
        <i class="fab fa-telegram text-2xl"></i>
      </a>
      <a href="viber://chat?number=%2B37368109777" class="bg-purple-600 text-white p-4 rounded-full shadow-2xl hover:scale-110 transition transform">
        <i class="fab fa-viber text-2xl"></i>
      </a>
      <a href="tel:+373 68 109 777" class="bg-green-600 text-white p-4 rounded-full shadow-2xl hover:scale-110 transition transform">
        <i class="fas fa-phone text-2xl"></i>
      </a>
      <button onclick="document.querySelector('footer').scrollIntoView({behavior: 'smooth'})" class="bg-accent text-white p-4 rounded-full shadow-2xl hover:scale-110 transition transform">
        <i class="fas fa-arrow-down text-2xl"></i>
      </button>
    </div>

    <button id="toggle-contact" class="bg-accent text-white p-5 rounded-full shadow-2xl hover:scale-110 transition transform pulse-animation">
      <i id="toggle-icon" class="fas fa-comment-dots text-3xl"></i>
    </button>
  </div>

  <style>
      /* Fabric canvas ‚Äî –æ—Ç–∫–ª—é—á–∞–µ–º –Ω–∞—Ç–∏–≤–Ω—ã–µ –∂–µ—Å—Ç—ã –±—Ä–∞—É–∑–µ—Ä–∞ */
      #phone-canvas,
      #canvas-container,
      canvas {
        touch-action: none;
      }

      input[type="color"]::-webkit-color-swatch-wrapper {
        padding: 0;
      }
      input[type="color"]::-webkit-color-swatch {
        border: none;
        border-radius: 9999px;
      }
      input[type="color"]::-moz-color-swatch {
        border: none;
        border-radius: 9999px;
      }

      .pulse-animation { animation: pulse 2s infinite; }
      @keyframes pulse {
        0% { box-shadow: 0 0 0 0 rgba(99, 102, 241, 0.7); }
        70% { box-shadow: 0 0 0 10px rgba(99, 102, 241, 0); }
        100% { box-shadow: 0 0 0 0 rgba(99, 102, 241, 0); }
      }

      html { scroll-behavior: smooth; }
      body { overflow-x: hidden; }

      .thumb-hint {
        position: absolute;
        left: 8px;
        right: 8px;
        bottom: 8px;
        padding: 6px 10px;
        border-radius: 14px;
        font-size: 12px;
        font-weight: 700;
        text-align: center;
        letter-spacing: .2px;
        color: #fff;
        background: rgba(99, 102, 241, 0.92);
        backdrop-filter: blur(6px);
        pointer-events: none;
        animation: thumbHintPulse 1.1s ease-in-out infinite;
      }

      .thumb-hint-top {
        top: 8px;
        bottom: auto;
      }

      @keyframes thumbHintPulse {
        0% { transform: translateY(0) scale(1); opacity: .85; }
        50% { transform: translateY(-2px) scale(1.03); opacity: 1; }
        100% { transform: translateY(0) scale(1); opacity: .85; }
      }

      .thumb-ring {
        position: absolute;
        inset: 6px;
        border-radius: 14px;
        pointer-events: none;
        border: 2px solid rgba(99, 102, 241, 0.75);
        animation: thumbRing 1.2s ease-in-out infinite;
      }

      @keyframes thumbRing {
        0% { opacity: .2; transform: scale(.98); }
        50% { opacity: .9; transform: scale(1.02); }
        100% { opacity: .2; transform: scale(.98); }
      }
    </style>


  <script>
    const toggleBtn = document.getElementById('toggle-contact');
    const contactButtons = document.getElementById('contact-buttons');
    const toggleIcon = document.getElementById('toggle-icon');

    toggleBtn.addEventListener('click', () => {
      if (contactButtons.classList.contains('opacity-0')) {
        contactButtons.classList.remove('opacity-0', 'scale-0');
        contactButtons.classList.add('opacity-100', 'scale-100');
        toggleIcon.classList.replace('fa-comment-dots', 'fa-times');
      } else {
        contactButtons.classList.add('opacity-0', 'scale-0');
        contactButtons.classList.remove('opacity-100', 'scale-100');
        toggleIcon.classList.replace('fa-times', 'fa-comment-dots');
      }
    });
  </script>

</body>
</html>